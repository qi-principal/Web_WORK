{"ast":null,"code":"import Heart from '@/views/Heart.vue';\nimport Vue from 'vue';\nconst HeartPlugin = {\n  install(Vue, options) {\n    // 创建一个空的容器用于存储所有的爱心\n    const container = document.createElement('div');\n    container.id = 'heart-container';\n    document.body.appendChild(container);\n\n    // 监听全局点击事件\n    document.addEventListener('click', event => {\n      // 创建一个新的 Heart 实例\n      const HeartConstructor = Vue.extend(Heart);\n      const heartInstance = new HeartConstructor({\n        propsData: {\n          x: event.clientX,\n          y: event.clientY - window.scrollY\n        }\n      });\n\n      // 将实例挂载到容器中\n      heartInstance.$mount();\n      container.appendChild(heartInstance.$el);\n\n      // 在动画结束后移除元素\n      setTimeout(() => {\n        heartInstance.$destroy();\n        container.removeChild(heartInstance.$el);\n      }, 500); // 动画持续时间应与 CSS 中设置的一致\n    });\n  }\n};\nVue.use(HeartPlugin);","map":{"version":3,"names":["Heart","Vue","HeartPlugin","install","options","container","document","createElement","id","body","appendChild","addEventListener","event","HeartConstructor","extend","heartInstance","propsData","x","clientX","y","clientY","window","scrollY","$mount","$el","setTimeout","$destroy","removeChild","use"],"sources":["D:/shopping-manager/vue/src/plugins/heartPlugin.js"],"sourcesContent":["import Heart from '@/views/Heart.vue';\r\nimport Vue from 'vue';\r\n\r\nconst HeartPlugin = {\r\n    install(Vue, options) {\r\n        // 创建一个空的容器用于存储所有的爱心\r\n        const container = document.createElement('div');\r\n        container.id = 'heart-container';\r\n        document.body.appendChild(container);\r\n\r\n        // 监听全局点击事件\r\n        document.addEventListener('click', (event) => {\r\n            // 创建一个新的 Heart 实例\r\n            const HeartConstructor = Vue.extend(Heart);\r\n            const heartInstance = new HeartConstructor({\r\n                propsData: {\r\n                    x: event.clientX,\r\n                    y: event.clientY - window.scrollY\r\n                }\r\n            });\r\n\r\n            // 将实例挂载到容器中\r\n            heartInstance.$mount();\r\n            container.appendChild(heartInstance.$el);\r\n\r\n            // 在动画结束后移除元素\r\n            setTimeout(() => {\r\n                heartInstance.$destroy();\r\n                container.removeChild(heartInstance.$el);\r\n            }, 500); // 动画持续时间应与 CSS 中设置的一致\r\n        });\r\n    }\r\n};\r\n\r\nVue.use(HeartPlugin);"],"mappings":"AAAA,OAAOA,KAAK,MAAM,mBAAmB;AACrC,OAAOC,GAAG,MAAM,KAAK;AAErB,MAAMC,WAAW,GAAG;EAChBC,OAAOA,CAACF,GAAG,EAAEG,OAAO,EAAE;IAClB;IACA,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC/CF,SAAS,CAACG,EAAE,GAAG,iBAAiB;IAChCF,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,SAAS,CAAC;;IAEpC;IACAC,QAAQ,CAACK,gBAAgB,CAAC,OAAO,EAAGC,KAAK,IAAK;MAC1C;MACA,MAAMC,gBAAgB,GAAGZ,GAAG,CAACa,MAAM,CAACd,KAAK,CAAC;MAC1C,MAAMe,aAAa,GAAG,IAAIF,gBAAgB,CAAC;QACvCG,SAAS,EAAE;UACPC,CAAC,EAAEL,KAAK,CAACM,OAAO;UAChBC,CAAC,EAAEP,KAAK,CAACQ,OAAO,GAAGC,MAAM,CAACC;QAC9B;MACJ,CAAC,CAAC;;MAEF;MACAP,aAAa,CAACQ,MAAM,CAAC,CAAC;MACtBlB,SAAS,CAACK,WAAW,CAACK,aAAa,CAACS,GAAG,CAAC;;MAExC;MACAC,UAAU,CAAC,MAAM;QACbV,aAAa,CAACW,QAAQ,CAAC,CAAC;QACxBrB,SAAS,CAACsB,WAAW,CAACZ,aAAa,CAACS,GAAG,CAAC;MAC5C,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACb,CAAC,CAAC;EACN;AACJ,CAAC;AAEDvB,GAAG,CAAC2B,GAAG,CAAC1B,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}